<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<link rel="stylesheet" href="../css/mui.min.css">
		<link href="../css/mui.picker.css" rel="stylesheet" />
		<link href="../css/mui.poppicker.css" rel="stylesheet" />
		<style>
			html,
			body {
				background-color: #fff;
				height: 100%;
			}
			
			.mui-bar-nav~.mui-content {
				height: 100%;
				overflow: hidden;
			}
			
			.mui-content {
				display: flex;
				flex-flow: column;
				background: #fff;
			}
			
			.img {
				width: 100%;
				height: 150px;
			}
			
			.a1 {
				flex: 1;
				overflow: auto;
			}
			
			.mui-table-view-cell:after {
				left: 0;
			}
			
			.a1 .mui-table-view-cell .inlink-block {
				display: inline;
			}
			
			.mui-table-view-cell>.mui-btn {
				right: 0;
			}
			
			.money_warp {
				width: 40%;
				line-height: 50px;
				float: left;
				text-align: center;
				font-size: 16px;
				color: #999;
			}
			
			.money_warp_nums {
				font-size: 18px;
				margin-right: 10px;
				color: #ffb84e;
			}
			
			.pay_money {
				width: 60%;
				line-height: 50px;
				padding: 0;
				background: #ffb84e;
				color: #fff;
				float: right;
				border: none;
				border-radius: 0;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">产品详情</h1>
		</header>
		<nav class="mui-bar mui-bar-tab">
			<span class="money_warp">
				<span class="money_warp_nums">￥33.99</span>起
			</span>
			<button class="pay_money" id="pay_money" href="radio.html">立即支付</button>
		</nav>
		<div class="mui-content">
			<img src="../images/muwu.jpg" / class="img">
			<div>
				<div id="segmentedControl" class="mui-segmented-control">
					<a class="mui-control-item mui-active" href="#item1">保障详情</a>
					<a class="mui-control-item" href="#item2">产品亮点</a>
					<a class="mui-control-item" href="#item3">理赔流程</a>
					<a class="mui-control-item" href="#item4">常见问题</a>
				</div>
			</div>
			<div class="a1">
				<div id="item1" class="mui-control-content mui-active" style="padding: 10px 10px;">
					<div id="segmentedControl1" class="mui-segmented-control">
						<a class="mui-control-item mui-active" href="#item5">基础版</a>
						<a class="mui-control-item" href="#item6">优选版</a>
						<a class="mui-control-item" href="#item7">精选版</a>
					</div>
					<div id="item5" class="mui-control-content mui-active">
						<p class="mui-table-view-cell">
							保障额度
							<button type="button" class="mui-btn showUserPicker" id="showUserPicker">
									
								</button>
						</p>
						<p class="mui-table-view-cell">
							保障期限
							<span class="mui-pull-right">
									1年
								</span>
						</p>
						<p class="mui-table-view-cell">
							等待期
							<span class="mui-pull-right">
									无
								</span>
						</p>
						<p class="mui-table-view-cell">
							适用年龄
							<span class="mui-pull-right">
									30天-17周岁
								</span>
						</p>
						<p>
							请具体查看
							<a href="javascript:;" class="inlink-block">
								《保险条款》
							</a>
							<a href="javascript:;" class="inlink-block">
								《投保须知》
							</a>
						</p>
					</div>
					<div id="item6" class="mui-control-content">
						优选版
					</div>
					<div id="item7" class="mui-control-content">
						精选版
					</div>

				</div>
				<div id="item2" class="mui-control-content">
					<ul class="mui-table-view">
						<li class="mui-table-view-cell">
							第二个选项卡子项-1
						</li>
						<li class="mui-table-view-cell">
							第二个选项卡子项-2
						</li>
						<li class="mui-table-view-cell">
							第二个选项卡子项-3
						</li>
					</ul>
				</div>
				<div id="item3" class="mui-control-content">
					<ul class="mui-table-view">
						<li class="mui-table-view-cell">
							第三个选项卡子项-1
						</li>
						<li class="mui-table-view-cell">
							第三个选项卡子项-2
						</li>
						<li class="mui-table-view-cell">
							第三个选项卡子项-3
						</li>
					</ul>
				</div>
				<div id="item4" class="mui-control-content">
					<ul class="mui-table-view">
						<li class="mui-table-view-cell">
							第四个选项卡子项-1
						</li>
						<li class="mui-table-view-cell">
							第四个选项卡子项-2
						</li>
						<li class="mui-table-view-cell">
							第四个选项卡子项-3
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script src="../js/mui.picker.js"></script>
		<script src="../js/mui.poppicker.js"></script>
		<script>
			(function($, doc) {
				$.init();
				$.ready(function() {

					/**
					 * 获取对象属性的值
					 * 主要用于过滤三级联动中，可能出现的最低级的数据不存在的情况，实际开发中需要注意这一点；
					 * @param {Object} obj 对象
					 * @param {String} param 属性名
					 */
					var _getParam = function(obj, param) {
						return obj[param] || '';
					};
					//普通示例
					var jsons = [{
						value: '10000',
						text: '1万'
					}, {
						value: '100000',
						text: '10万'
					}, {
						value: '150000',
						text: '15万'
					}, {
						value: '200000',
						text: '20万'
					}, {
						value: '300000',
						text: '30万'
					}, {
						value: '500000',
						text: '50万'
					}, {
						value: '1000000',
						text: '100万'
					}]
					var userPicker = new $.PopPicker();

					var showUserPickerButton = doc.getElementById('showUserPicker');
					showUserPickerButton.innerText = jsons[0].text
					mui('.a1').on('tap', '.showUserPicker', function(event) {
						userPicker.setData(jsons);
						userPicker.show(function(items) {
							showUserPickerButton.innerText = items[0].text;
							//返回 false 可以阻止选择框的关闭
							//return false;
						});
					}, false);
					//-----------------------------------------
					var options = {
						styles: {
							popGesture: "close"
						},
						extras: {
							name: 'fangjialiang'
						}
					};

					document.getElementById('pay_money').onclick = function() {
						var href = this.getAttribute('href');

						//非plus环境，直接走href跳转
						if(!mui.os.plus) {
							location.href = href;
							return;
						}

						var id = this.getAttribute("data-wid");
						if(!id) {
							id = href;
							console.log('此时的ID是' + id)
						}

						if(href && ~href.indexOf('.html')) {
							//如下场景不适用下拉回弹：
							//1、单webview下拉刷新；2、底部有fixed定位的div的页面
							if(!~id.indexOf('pullrefresh.html') && !~href.indexOf("examples/tabbar.html") && !~href.indexOf("list-to-detail/listview.html")) {
								options.styles.bounce = "vertical";
							}
							//图标页面需要启动硬件加速
							if(~id.indexOf('icons.html') || ~id.indexOf("echarts.html")) {
								options.styles.hardwareAccelerated = true;
							}
							if(~id.indexOf('im-chat.html')) {
								options.extras.acceleration = "none";
							}

							var titleType = this.getAttribute("data-title-type");
							if(titleType && titleType.indexOf("native") > -1) { //原生导航
								options.styles.titleNView = {
									autoBackButton: true,
									backgroundColor: '#f7f7f7',
									titleText: this.innerHTML.trim(),
									splitLine: {
										color: '#cccccc'
									}
								};

								options.show = {
									event: 'loaded'
								}
								//有原生标题的情况下，就不需要waiting框了
								options.waiting = {
									autoShow: false
								}

								//透明渐变导航,增加类型设置
								if(titleType == "transparent_native") {
									options.styles.titleNView.type = "transparent";
								}

								//处理原生图片轮播
								if(~id.indexOf("slider-native.html")) {
									options.styles.subNViews = [{ //配置图片轮播
										id: 'slider-native',
										type: 'ImageSlider',
										styles: {
											left: 0,
											right: 0,
											top: 0,
											height: '200px',
											position: 'static',
											loop: true,
											images: [{
												src: '_www/images/yuantiao.jpg',
												width: '100%'
											}, {
												src: '_www/images/shuijiao.jpg',
												width: '100%',
											}, {
												src: '_www/images/muwu.jpg',
												width: '100%',
											}, {
												src: '_www/images/cbd.jpg',
												width: '100%',
											}]
										}
									}];
								}
							} else {
								//非原生导航，需要设置顶部状态栏占位
								options.styles.statusbar = {
									background: "#f7f7f7"
								}
							}


							if(id && id == "viewgroup") { //强制启用截屏
								options.extras.acceleration = "capture";
							}
							//打开新窗口
							mui.openWindow(href, id, options);

						}

					}

				});
			})(mui, document);
		</script>
	</body>

</html>